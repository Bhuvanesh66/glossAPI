Στην εποχή που τα Ανεπιθύμητα (Spam) Μηνύματα κατακλύζουν κάθε διαθέσιμο 
“γραμματοκιβώτιο”, η ανάγκη για την αυτοματοποιημένη αναγνώριση και αντιμετώπισή τους
φαίνεται επιτακτική. Στην εργασία αυτή αρχικά μελετήθηκαν οι τεχνικές 
Αναγνώρισης Ανεπιθύμητης Αλληλογραφίας που χρησιμοποιούνται τα τελευταία χρόνια. 
Συγκεκριμένα, έμφαση δόθηκε σε προσεγγίσεις που χρησιμοποιούν αλγορίθμους Μηχανικής Μάθησης.
Στη συνέχεια, αναπτύχθηκε ένα φίλτρο Ανεπιθύμητης Αλληλογραφίας χρησιμοποιώντας
Νευρωνικά Δίκτυα και συγκεκριμένα τον αλγόριθμο Πολυεπίπεδου Δικτύου Αισθητήρων
(Multilayer Perceptron / MLP). Έγινε χρήση της συλλογής αλγορίθμων Μηχανικής Μάθησης και Εξόρυξης Δεδομένων Weka 
του Πανεπιστημίου του Waikato. Μελετώνται οι παράμετροι του Νευρωνικού Δικτύου 
και αποφασίζονται οι καταλληλότερες τιμές προκειμένου να μεγιστοποιηθεί 
η απόδοση της κατηγοριοποίησης του φίλτρου. Τόσο οι τεχνικές
που χρησιμοποιήθηκαν γι’ αυτό όσο και τα πειραματικά αποτελέσματα παρουσιάζονται
στην εργασία.

Η χρήση ηλεκτρονικού ταχυδρομείου (email) έχει διαδοθεί πάρα πολύ τα τελευταία χρόνια 
για την επικοινωνία μεταξύ των ανθρώπων. Η χρήση email καθιστά την επικοινωνία γρήγορη, 
δωρεάν και χωρίς σύνορα, μπορεί να χρησιμοποιηθεί τόσο για επίσημη
όσο και για ανεπίσημη αλληλογραφία, μπορεί επίσης να μεταφέρει αρχεία όπως π.χ. έγγραφα 
χωρίς την απώλεια ακρίβειας των τηλεομοιοτυπιών (Fax) και πρακτικά οτιδήποτε άλλο.
Μαζί με την ευκολία του email βέβαια έρχονται και ορισμένοι κίνδυνοι. Ένας από
αυτούς είναι η ανεπιθύμητη αλληλογραφία ή αλλιώς spamming. Η ανεπιθύμητη αλληλογραφία, 
αν και όχι αποκλειστικά, συναντάται πολύ συχνά στα email. Σαν ανεπιθύμητο/αθέμιτο (spam) email 
εννοούμε τα email που στέλνονται μαζικά συνήθως σε χιλιάδες
παραλήπτες. Ένα ηλεκτρονικό μήνυμα συγκαταλέγεται ως ανεπιθύμητο εάν η ταυτότητα
του παραλήπτη και το γενικό πλαίσιο (context) του μηνύματος είναι αδιάφορα, επειδή το
μήνυμα στοχεύει εξ ίσου σε πολλούς άλλους πιθανούς παραλήπτες, ή αν ο παραλήπτης
δεν έχει διαπιστωμένα δώσει σαφή έγκριση να σταλεί το μήνυμα σε αυτόν.
Τα ανεπιθύμητα email μπορούν να βλάψουν τον παραλήπτη με πολλούς τρόπους.
Εκτός του ότι μπορεί ενοχλούν από την υπερβολική διαφήμιση κάποιου προϊόντος ή υπηρεσίας, 
ενδέχεται να παραπέμπουν σε κακόβουλες ιστοσελίδες με σκοπό την παραπλάνηση του χρήστη 
όπως π.χ. ιστοσελίδες κλοπής ταυτότητας (phising sites) έτσι ώστε να
αποσπάσουν από αυτόν ευαίσθητες προσωπικές πληροφορίες όπως κωδικούς καρτών ή
οτιδήποτε άλλο. Ακόμα μπορεί να έχουν παραπλανητικές ή εντελώς ψεύτικες προσφορές
ή και απάτες προκειμένου να ξεγελάσουν τον χρήστη και στις περισσότερες περιπτώσεις να του αποσπάσουν χρήματα, 
όπως τα “nigerian scam emails”. Επιπλέον μπορεί να
μεταφέρουν και κακόβουλο λογισμικό όπως ιούς ή “δούρειους ίππους” (Trojan horses)
προκειμένου να προσβάλουν τον υπολογιστή του παραλήπτη.
Εκτός από τα παραπάνω, τα ανεπιθύμητα email δημιουργούν πρόβλημα από τον
υπερβολικά μεγάλο αριθμό τους στο εύρος ζώνης του δικτύου (bandwidth), που μπορεί
να καταναλώσει ακόμα και το μισό, και στον χώρο αποθήκευσης, τόσο στον παραλήπτη 
όσο και στον εξυπηρετητή (mail server) που είναι υπεύθυνος για την διανομή και την
αποθήκευση τους. Ακόμα μπερδεύουν τους χρήστες και σπαταλάνε το χρόνο τους αφού
είναι αναγκασμένοι να τα ξεχωρίζουν από τα θεμιτά (legitimate/ ham) email.
Οι αποστολείς ανεπιθύμητης αλληλογραφίας (spammers) μπορούν να συλλέξουν
μεγάλο αριθμό από διευθύνσεις ηλεκτρονικού ταχυδρομείου χρηστών με σχετική ευκολία. 
Μπορούν να αντλήσουν τις διευθύνσεις αυτές από σελίδες κοινωνικής δικτύωσης,
από λίστες των πελατών διάφορων υπηρεσιών ακόμα και από διαθέσιμους τηλεφωνικούς
καταλόγους από ιδιώτες ή επιχειρήσεις (whitepages, yellowpages). Αυτό μπορεί να οδηγήσει τους χρήστες 
στο να έχουν εκατοντάδες ανεπιθύμητα email στα εισερχόμενά τους,
τα οποία δεν έχουν καμία χρησιμότητα για αυτούς και είναι επικίνδυνα αν δεν δοθεί η
απαραίτητη προσοχή.
Συγκεκριμένα υπολογίζεται ότι 14.5 δισεκατομμύρια email ημερησίως είναι ανεπιθύμητα. 
Αυτό σημαίνει ότι απαρτίζουν το 45% των συνολικών email που στέλνονται, δηλαδή
σχεδόν ένα στα δύο email είναι αθέμιτο αν και κάποιες έρευνες βρίσκουν αυτό το ποσοστό
ακόμα μεγαλύτερο έως και 73%. Τα ανειπθύμητα email στέλνονται κατά κύριο λόγο από
τις ΗΠΑ ακολουθούμενες από την Κορέα. Το μεγαλύτερο ποσοστό αυτών, που υπολογίζεται γύρω στο 36%, 
αποτελούνται από διαφημιστικά email ενώ η δεύτερη πιο συχνή
κατηγορία αθέμιτων email είναι αυτά που σχετίζονται με πορνογραφικό περιεχόμενο και
απαρτίζουν το 31.7% των συνολικών αθέμιτων email και ακολουθούν αυτά με οικονομικά
ζητήματα στο 26.5%. Πολύ μικρό ποσοστό των ανεπιθύμητων email, μόλις 2.5%, αποτελούν 
τα μηνύματα απάτης ή παραπλάνησης εκ των οποίων το 73% είναι μηνύματα κλοπής
ταυτότητας γνωστά ως phising.
Γι’ αυτό το λόγο έχει προκύψει η ανάγκη να αντιμετωπιστεί η ανεπιθύμητη αλληλογραφία. 
Πολλές χώρες αναλογιζόμενες τον οικονομικό αντίκτυπο έχουν προχωρήσει σε
νομοθετικές ρυθμίσεις για την αντιμετώπιση του spamming και την προστασία επιχειρήσεων και ιδιωτών. 
Όπως για παράδειγμα οι ΗΠΑ με το “CANSPAM Act of 2003” και η
Ευρωπαϊκή Ένωση με το “Directive 2002/58 on Privacy and Electronic Communications”
ή αλλιώς “EPrivacy Directive” που απαγορεύουν τη χρήση ηλεκτρονικών διευθύνσεων
για λόγους προώθησης αγαθών και υπηρεσιών εάν δεν υπάρχει εκ των προτέρων συμφωνία του παραλήπτη.
Εκτός από την νομική αυτή προσέγγιση έχουν αναπτυχθεί και αυτοματοποιημένες
μέθοδοι για την αντιμετώπιση του spamming και αυτό επιτυγχάνεται με τη χρήση των
φίλτρων ανεπιθύμητης αλληλογραφίας (spam filters), ειδικών φίλτρων δηλαδή που
έχουν σαν ρόλο να κατατάξουν κάθε εισερχόμενο μήνυμα σε μία από τις δύο κατηγορίες:
{αθέμιτο, θεμιτό} ή αλλιώς {spam, ham/legitimate}. Το πρόβλημα αυτό δηλαδή αποτελεί 
ειδική περίπτωση προβλήματος εξόρυξης δεδομένων (data mining) και συγκεκριμένα
της κατηγοριοποίησης κειμένου (text classification / text categorization). Στην περίπτωση
που ένα εισερχόμενο μήνυμα κατηγοριοποιηθεί ως ανεπιθύμητο τότε η αντιμετώπιση του
ποικίλει ανάλογα με τον τρόπο εφαρμογής του φίλτρου ανεπιθύμητης αλληλογραφίας.
Για παράδειγμα, εάν αυτό λειτουργεί στον υπολογιστή του παραλήπτη (client side) τότε
η πιο συνηθισμένη πρακτική είναι το αθέμιτο μήνυμα να μπαίνει σε κάποιον ειδικό φάκελο 
του ηλεκτρονικού του ταχυδρομείου που συχνά αναφέρεται ως spam/junk folder. Αν
από την άλλη το φίλτρο λειτουργεί σε κάποιον εξυπηρετητή ηλεκτρονική αλληλογραφίας
(mail server) που εξυπηρετεί πολλούς χρήστες (server side) τότε το μήνυμα μπορεί είτε
να μαρκαριστεί ως αθέμιτο είτε να διαγραφεί τελείως.
Tα φίλτρα ανεπιθύμητης αλληλογραφίας μπορούν να χωριστούν σε δύο κατηγορίες.
Σε αυτά που δεν χρησιμοποιούν μηχανική μάθηση και σε αυτά που χρησιμοποιούν. Ειδικά παλαιότερα, 
τα φίλτρα λειτουργούσαν χωρίς κάποιο είδος μηχανικής μάθησης και
βασίζονταν κυρίως σε τεχνικές όπως μαύρες και λευκές λίστες (blacklists και whitelists)
ελέγχοντας το κείμενο του μηνύματος για λέξεις κλειδιά ή διευθύνσεις IP και DNS του
αποστολέα. Για παράδειγμα, αν ένα κείμενο μηνύματος περιέχει λέξεις που έχουν κατηγοριοποιηθεί 
ως ακατάλληλες και βρίσκονται σε μία μαύρη λίστα (blacklist) τότε το μήνυμα 
χαρακτηρίζεται ως spam. Επίσης αν ο αποστολέας είναι εξακριβωμένα ασφαλής και
βρίσκεται σε κάποια λευκή λίστα (whitelist) τότε το μήνυμα χαρακτηρίζεται αυτόματα ως
θεμιτό / ham. Οι τεχνικές αυτές δεδομένου ότι βασίζονται σε λίστες, σχετικά στάσιμες, και
σε κανόνες “γραμμένους με το χέρι”, μπορούν εύκολα να παρακαμφθούν από αποστολείς ανεπιθύμητης αλληλογραφίας 
καθώς με την πάροδο του χρόνου οι λίστες γίνονται γνωστές και τα αθέμιτα email προσαρμόζονται. 
Παραδείγματος χάρη αν σε μία μαύρη λίστα υπάρχει η λέξη “Κερδίσατε” ως ακατάλληλη, μπορεί αντί για αυτή να χρησιμοποιηθεί
η λέξη “Κ3ρδίσατε” με σκοπό να περάσει τον έλεγχο. Οι τεχνικές αυτές απαιτούν “χειροκίνητη” ανανέωση 
και υπάρχει συχνά λανθασμένη κατηγοριοποίηση θεμιτών μηνυμάτων ως αθέμιτων.
Λόγω αυτού τα φίλτρα ανεπιθύμητης αλληλογραφίας πλέον βασίζονται σε τεχνικές
μηχανικής μάθησης. Οι αλγόριθμοι που χρησιμοποιούνται σε τέτοιες τεχνικές αντί να βασίζονται 
εξ ολοκλήρου σε προκαθορισμένους κανόνες, λαμβάνουν υπόψιν τους σύνολα από
διαθέσιμα μηνύματα ήδη κατηγοριοποιημένα fspam; hamg και χρησιμοποιούν τη γνώση
που εξήγαγαν για την κατηγοριοποίηση των νέων εισερχόμενων μηνυμάτων. Ακόμα μία
χαρακτηριστική και ενδιαφέρουσα ιδιότητα των αλγορίθμων αυτών είναι η δυνατότητα τους
να βελτιώνουν τις επιδόσεις τους με την πάροδο του χρόνου αποκτώντας “εμπειρία” και
είναι προσαρμόσιμοι στις αλλαγές των χαρακτηριστικών των ανεπιθύμητων email [5].
Μερικοί τέτοιοι αλγόριθμοι μηχανικής μάθησης που χρησιμοποιούνται για να φιλτράρουν 
τα ανεπιθύμητα email είναι η Bayesian κατηγοριοποίηση (Bayesian classification)
και πιο συγκεκριμένα η Naive Bayesian, οι Μηχανές Διανύσματος Υποστήριξης (Support
Vector Machines - SVM), ο αλγόριθμος kΠλησιέστεροι Γείτονες (kNearest Neighbors -
kNN), τα Νευρωνικά Δίκτυα (Neural Networks / Artificial Neural Networks - ANN), 
τα Δέντρα Απόφασης (Decision Trees) και άλλοι, Μερικούς από αυτούς θα τους αναλύσουμε
περισσότερο παρακάτω.
Για την εφαρμογή των περισσότερων τέτοιων αλγορίθμων χρειάζεται αρχικά μία
προεπεξεργασία στο εισερχόμενο μήνυμα. Αυτή αφορά κυρίως το Σώμα (Body) και το
Θέμα (Subject), του email και συνίσταται στις εξής διαδικασίες:
Στοιχειοποίηση (Tokenization), δηλαδή διαχωρισμός κάθε λέξης από το σώμα του
μηνύματος σαν στοιχείο (token).
Λημματοποίηση (Lemmatization / Word Stemming), δηλαδή μετατροπή κάθε λέξης
– token στην ριζική της μορφή / θέμα κάθε λέξης απαλείφοντας προθέσεις και καταλήξεις 
από ρήματα, μετατρέποντας τον πληθυντικό σε ενικό αριθμό στα ουσιαστικά,
και χρησιμοποιώντας άλλους τέτοιους γραμματικούς κανόνες (π.χ. “τρέχοντας” σε
“τρέχω”, ή “αυτοκίνητα” σε “αυτοκίνητο”).
Αφαίρεση κοινών λέξεων (Stop Word Removal / Stop Term Removal), δηλαδή εξάλειψη των όρων 
που είναι κοινοί σε όλα σχεδόν τα μηνύματα όπως άρθρα, προθέσεις και συνδέσμους π.χ. (“το”, ”και”, “για”).
Επιλογή Χαρακτηριστικών (Feature Selection), δηλαδή επιλογή των χαρακτηριστικών, 
πόσα θα είναι και ποια συγκεκριμένα, από το κείμενο που θα ληφθούν υπόψιν
για την κατηγοριοποίηση του μηνύματος.
Αναπαράσταση (Representation), δηλαδή απεικόνιση του κειμένου συνήθως 
του μηνύματος με κάποια προαποφασισμένη δομή δεδομένων ώστε να είναι σε θέση να
το διαχειριστεί ο αλγόριθμος.

Συνήθως η αναπαράσταση ενός κειμένου γίνεται μέσω ενός διανύσματος διάστασης
ίσης με το πλήθος των χαρακτηριστικών που έχουν επιλεγεί. Μία από τις συνηθέστερες
αναπαραστήσεις για ένα κείμενο και κατ’ επέκταση και για ένα email είναι η λεγόμενη Bag
of Words (BoW) αναπαράσταση ή αλλιώς μοντέλο Χώρου Διανύσματος (Vector Space
model). Με αυτόν τον τρόπο έχοντας δεδομένο ένα σύνολο / λίστα από N το πλήθος ξεχωριστούς όρους 
έστω Τ = ft1; t2; : : : ; tNg που έχουν αποφασιστεί εκ των προτέρων (a priori),
και κάθε κείμενο d αναπαρίσταται από ένα διάνυσμα διάστασης N ως ⃗x = [x1; x2; : : : ; xN]
που έχει μία τιμή / βάρος (weight) για κάθε τέτοιο όρο. Αυτοί αποτελούν τους N πιο αντιπροσωπευτικούς 
όρους για κάθε κείμενο και τα βάρη αυτά δείχνουν πόσο συνεισφέρει κάθε όρος στην σημασιολογία του κειμένου d. 
Οι τιμές xi των χαρακτηριστικών του διανύσματος μπορεί στην απλούστερη περίπτωση να είναι δυαδικές f0; 1g, σηματοδοτώντας
την ύπαρξη ή μη του όρου ti στο κείμενο d.
Μπορεί επίσης να παίρνουν τιμές και από άλλα στατιστικά / βάρη όπως για παράδειγμα τη συχνότητα του κάθε όρου, 
και η τιμή xi = nti δηλαδή, να ισούται με το πλήθος των εμφανίσεων του όρου ti στο κείμενο d. 
Οι D. Puniškis, R. Laurutis και R. Dirmeikis στο [12], χρησιμοποιούν για χαρακτηριστικά 
κυρίως τη σχετική συχνότητα κάθε όρου δηλαδή tifreq = 100 (cid:1) nti%, 
όπου nti το πλήθος των εμφανίσεων του όρου ti στο κείμενο d και ΝΤ
το συνολικό πλήθος όλων των όρων στο d, καθώς και την αντίστοιχη σχετική συχνότητα
για τους ASCII κωδικούς των πιο κοινών χαρακτήρων δηλαδή cifreq = 100 (cid:1) nci, όπου nci το NC
πλήθος των εμφανίσεων του χαρακτήρα ci στο d και NC το πλήθος όλων των χαρακτήρων
στο d. Ακόμα, πολύ συχνά επιλέγεται η χρήση του βάρους tfidf ως αναπαράσταση χαρακτηριστικού. 
Όπου term frequency είναικάποιο είδος συχνότητας (απόλυτη, σχετική, κλπ) ενός όρου ti σε κάποιο κείμενο d 
και inverse document frequency είναι ένα μέγεθος το οποίο καθορίζει το
πόση πληροφορία προσφέρει ο κάθε όρος, δηλαδή το πόσο συχνά ή σπάνια συναντάται, 
όπου ND = jDj το πλήθος όλων σε ένα πλήθος κειμένων. 
Το βάρος tfidf υπολογίζεται ως το γινόμενο των δύο tfidfi;d = tfi;d (cid:1) idfi.
Τόσο η term frequency όσο και η inverse document frequency μπορούν να πάρουν πιο
απλούς ή πιο σύνθετους τύπους ανάλογα με τις απαιτήσεις της εφαρμογής. Η χρήση του
tfidf βοηθάει στο να μειώνεται το βάρος των όρων που συναντώνται πολύ συχνά αλλά
χωρίς να έχουν την απαραίτητη σημαντικότητα και να αυξάνεται το βάρος εκείνων που
εμφανίζονται λιγότερο συχνά αλλά έχουν μεγαλύτερη σημασία.

Συνήθως σε αυτές τις εφαρμογές οι διαστάσεις είναι πάρα πολύ μεγάλες, κυρίως
λόγω του μεγάλου πλήθους των όρων ή των άλλων χαρακτηριστικών που εξετάζονται.
Δεν είναι όμως δυνατό να κατασκευαστούν διανύσματα αναπαράστασης των εγγράφων
(ή ο πίνακας όρων-εγγράφων / term by document matrix) τόσο μεγάλης διάστασης γιατί
δεν θα είναι καθόλου αποδοτική η διαχείριση και η επεξεργασία τους. Γι’αυτό το λόγο γίνεται 
μία επιλογή ενός πλήθους Ν διαστάσεων / χαρακτηριστικών που θα χρησιμοποιηθούν.
Συνηθίζεται να διαλέγονται τα χαρακτηριστικά με τις Ν μεγαλύτερες τιμές της μετρικής συνάρτησης 
που δέιχνει τη σημαντικότητα των χαρακτηριστικών που εξετάζονται, ή ορισμένες φορές 
όπως στο [11] εφαρμόζονται πιο σύνθετοι αλγόριθμοι επιλογής όπως ο SVD
(Singular Value Decomposition) που βασίζονται σε ιδιότητες της γραμμικής άλγεβρας.
Βέβαια, σε ορισμένες περιπτώσεις όπως για παράδειγμα στο [6] που ειδικεύεται
στην αναγνώριση ενός συγκεκριμένου τύπου ανεπιθύμητων emails, αυτό των email κλοπής ταυτότητας (phising), 
οι T. Kathirvalavakumar, K. Kavitha και R. Palaniappan επιλέγουν χαρακτηριστικά (features) 
για την αναπαράσταση των email που εξετάζουν που δεν βασίζονται σε συναρτήσεις της στατιστικής. 
Πιο συγκεκριμένα εκείνοι έχουν επιλέξει 18 χαρακτηριστικά για να αναπαραστήσουν τα email, 
και αυτά παίρνουν δυαδικές τιμές ανάλογα με τον αν στο εκάστοτε email ισχύει αυτό το χαρακτηριστικό. 
Τα χαρακτηριστικά που επιλέγουν είναι:
1. Αν χρησιμοποιείται HTML κώδικας μέσα στο email.
2. Αν το πλήθος των εικόνων στο email που λειτουργούν σαν σύνδεσμος (link) είναι
μεγαλύτερος από 2.
3. Αν ο αριθμός των domain στο σώμα του email είναι μεγαλύτερος από 3.
4. Αν ο αριθμός των συνδέσμων που εμφανίζονται στο email είναι μεγαλύτερος από 3.
5. Αν ο HTML κώδικας που χρησιμοποιείται περιέχει το tag <form>
6. Αν το domain στο πεδίο From δεν είναι ίδιο με αυτό στο πεδίο ReplyTo στο Header
κομμάτι του email
7. Αν το μέγεθος του email είναι μικρότερο από 25 KB.
8. Αν υπάρχει ενσωματωμένος κώδικας JavaScript.
9. Αν το domain περιέχει παραπάνω από 3 τελείες (dots).
10. Αν το email περιέχει IP σαν σύνδεσμο.
11. Αν το κείμενο του email περιέχει τις λέξεις “like”, “click here”, “click”, “here” ή “login”.
12. Αν υπάρχουν περισσότερα από 3 domain στο Header κομμάτι του email.
13. Αν υπάρχει κάποιο URL που περιέχει το σύμβολο “@”.
14. Αν υπάρχει κάποιο URL με διαφορετική θύρα (port) από 80 ή 443.
15. Αν το domain κάποιου συνδέσμου στο email δεν αναδιευθύνεται σε αυτό του απο-
στολέα.
16. Αν το URL στο Header κομμάτι του email ξεκινάει από https:// αντί για http:// προκειμένου 
να κάνει τον παραλήπτη να πιστεύει ότι το email είναι θεμιτό.
17. Αν το URL στο Header κομμάτι έχει δεκαεξαδική μορφή
18. Αν το email έχει κατηγοριοποιηθεί από το φίλτρο Spam Assassin σαν ανεπιθύμητο.
Αν κάποιο από τα παραπάνω ισχύει για ένα email, τότε το αντίστοιχο χαρακτηριστικό
παίρνει την τιμή 1, αλλιώς 0.

Βέβαια, στο [5] αναφέρεται ότι παρά την συχνή χρήση της Bag of Words αναπαράστασης 
στις εφαρμογές για αναγνώριση ανεπιθύμητης αλληλογραφίας, αυτή έχει την
αδυναμία του ότι δεν ανταπεξέρχεται καλά στην πάροδο του χρόνου λόγω του φαινομένου
που ονομάζεται ολίσθηση έννοιας (concept drift). Το πρόβλημα στην BoW αναπαράσταση
είναι ότι τα διανύσματα που χρησιμοποιούνται για την αναπαράσταση των εγγράφων /
email, είναι στατικά και δεν λαμβάνουν υπόψιν τους τις μεταβολές που μπορεί να έχουν
μερικά χαρακτηριστικά / όροι στην πάροδο του χρόνου. Αυτό σημαίνει ότι εάν ένα χαρακτηριστικό 
μεταβληθεί ή αν πρέπει να ληφθεί υπόψιν ένα καινούριο χαρακτηριστικό, τα
φίλτρα ανεπιθύμητης αλληλογραφίας που ακολουθούν αυτήν την αναπαράσταση θα πρέπει 
να εκπαιδευθούν ξανά από την αρχή, δηλαδή όλα τα έγγραφα να αναπαρασταθούν
ξανά δεδομένων των καινούριων χαρακτηριστικών και να κατηγοριοποιηθούν εκ νέου. Η
διαδικασία αυτή δεν είναι καθόλου αποδοτική εάν εφαρμόζεται συχνά.

Ένα σημαντικό στοιχείο κατά την λειτουργία των διάφορων φίλτρων ανεπιθύμητης
αλληλογραφίας είναι τα δεδομένα που χρησιμοποιεί. Τα δεδομένα αυτά αφορούν τα email
που έχει στη διάθεσή του κάθε φίλτρο ώστε να εκπαιδευτεί, να μάθει δηλαδή ποιά email
θεωρούνται αθέμιτα και ποια όχι για να μπορεί στο μέλλον να βγάζει συμπεράσματα για
καινούρια email που δεν γνωρίζει.
Οι συλλογές από email (email corpora) που χρησιμοποιούνται έχουν ομαδοποιημένα email 
που ανήκουν διαπιστωμένα σε μία κατηγορία, είτε θεμιτά είτε αθέμιτα. Αυτά
έχουν συλλεγεί ήδη για κάποια χρονική περίοδο από διάφορες πηγές. Οι συλλογές αυτές
μπορούν να είναι είτε δημόσια διαθέσιμες είτε ιδιωτικές. Κάθε συλλογή έχει τα δικά της
χαρακτηριστικά ανάλογα με το από που έχουν συλλεγεί τα μηνύματα. Γι’αυτό το λόγο δεν
είναι δυνατόν να χρησιμοποιηθεί οποιαδήποτε συλλογή σε οποιαδήποτε εφαρμογή / φίλτρο 
ανεπιθύμητης αλληλογραφίας. Για παράδειγμα, αν η συλλογή των email έχει γίνει από
κάποια λίστα ηλεκτρονικής αλληλογραφίας (mailing list) που συνήθως έχει συγκεκριμένη
θεματολογία, τότε είναι πολύ πιθανόν να μην είναι χρήσιμη για αξιολόγηση μηνυμάτων
που δεν προέρχονται από τη λίστα αυτή. Αυτό συμβαίνει, επειδή τα χαρακτηριστικά που
θα έχουν αποθηκευτεί για τα θεμιτά ή αθέμιτα email δεν θα αντιπροσωπεύουν κατ’ ανάγκη
οποιαδήποτε άλλα θεμιτά ή αθέμιτα email αντίστοιχα.
Η διαφορετικότητα κάθε συλλογής μηνυμάτων που χρησιμοποιείται είναι και ένας
λόγος για τον οποίο δεν έχει νόημα να συγκρίνονται δύο φίλτρα ανεπιθύμητης αλληλογραφίας 
αποκλειστικά και μόνο από τα μέτρα απόδοσης τους. Επιπλέον, μερικές εφαρμογές 
χρησιμοποιούν ιδιωτικές συλλογές μηνυμάτων προκειμένου να δώσουν έμφαση σε
συγκεκριμένες ιδιαιτερότητες κάθε συλλογής όπως οι γλώσσες που χρησιμοποιούνται ή
τα τυχόν ιδιαίτερα θεματολογικά χαρακτηριστικά τα οποίτα δεν είναι διαθέσιμα σε δημόσια
διαθέσιμες συλλογές. Αυτό βέβαια μπορεί να επηρεάσει την δυνατότητα αναπαραγωγής
των αποτελεσμάτων καθώς και να δυσκολέψει την σύγκριση με άλλα φίλτρα όπως αναφέρεται στο [5]. 
Μερικές διαθέσιμες συλλογές μηνυμάτων που χρησιμοποιούνται συχνά είναι
το CEAS 2008 Live Spam Challenge Corpus που χρησιμοποιήθηκε για την δοκιμασία
Αναγώρισης Ανεπιθύμητης Αλληλογραφίας κατά τη διάρκεια του συνεδρίου CEAS 2008
(5 Αυγούστου – 8 Αυγούστου, 2008), το 2005-2007 TREC Public Spam Corpus που
χρησιμοποιήθηκαν για το TREC Spam Evaluation Track, ή το Reuters21578 που περιέχει 
21578 μηνύματα διάφορων θεμάτων που έχουν κατηγοριοποιηθεί χειροκίνητα απο
το προσωπικό της Carnegie Group, Inc. και της Reuters Ltd.
Σημαντικό ρόλο παίζει επίσης η χρονική περίοδος κατά την οποία έγινε η συλλογή
των μηνυμάτων που θα χρησιμοποιηθούν για την εκπαίδευση του φίλτρου ανεπιθύμητης
αλληλογραφίας. Όπως αναφέρεται στο [10] τα δεδομένα που χρησιμοποιόυνται για εκπαίδευση 
πρέπει να ανανεώνονται κατά καιρούς καθώς αλλάζουν και τα χαρακτηριστικά
των email. Τα χαρακτηριστικά των θεμιτών / ham email δεν αλλάζουν τόσο συχνά και σε
τόσο μεγάλο βαθμό καθώς οι άνθρωποι σε σπάνιες περιπτώσεις αλλάζουν τον τρόπο που
γράφουν μηνύματα. Το περεχόμενο των αθέμιτων / spam όμως αλλάζει συνεχώς καθώς
λαμβάνει χώρα ο ”αγώνας” μεταξύ των αποστολέων ανεπιθύμητης αλληλογραφίας και των
δημιουργών φίλτρων. Πιο συγκεκριμένα το να χρησιμοποιούνται απαρχαιομένα δεδομένα
για εκπαίδευση μειώνει την απόδοση του φίλτρου, αλλά η μείωση αυτή της απόδοσης δεν
συγκρίνεται με την τεράστια μείωση που υφίσταται η απόδοση όταν τα δεδομένα που
αφορούν αθέμιτα email και τα δεδομένα που αφορούν θεμιτά email έχουν διαφορετικές
ηλικίες.

Σε ότι αφορά την απόδοση του φίλτρου ανεπιθύμητης αλληλογραφίας, μια αφελής
προσέγγιση θα ήταν να λαμβάνεται υπόψιν το πλήθος των μηνυμάτων που αποφασίστηκε
ότι ανήκουν σε άλλη κατηγορία από αυτή που ανήκουν κανονικά (δηλαδή αυτή που θα τα
κατέτασσε ένας άνθρωπος). Αυτή η προσέγγιση όμως δεν είναι σωστή διότι δεν έχει το
ίδιο αντίκτυπο το να κατηγοριοποιηθεί ένα αθέμιτο email ως θεμιτό και το να κατηγοριο-
ποιηθεί ένα θεμιτό email ως αθέμιτο. Η πρώτη περίπτωση ονομάζεται False Negative και
η δεύτερη False Positive. Προφανώς το πλήθος και των δύο αυτών μέτρων θα πρέπει να
είναι το ελάχιστο δυνατό αλλά η μικρή τιμή των False Positive είναι πολύ πιο σημαντική.
Συγκεκριμένα οποιαδήποτε μη μηδενική τιμή δεν είναι αποδεκτή και αυτό διότι το να κα-
τηγοριοποιηθεί ένα αθέμιτο email ως θεμιτό και να το δει ο χρήστης στα εισερχόμενά του
δεν αποτελεί τόσο σοβαρό πρόβλημα (αυτό θα συνέβαινε ούτως ή άλλως χωρίς τη χρήση
του φίλτρου), το να κατηγοριοποιηθεί όμως ένα θεμιτό email ως αθέμιτο μπορεί να προκαλέσει 
την απώλεια ενός σημαντικού για το χρήστη μηνύματος. Ειδικά σε περιπτώσεις
που το μήνυμα διαγράφεται τελείως αν αναγνωριστεί ως αθέμιτο, αυτό το είδος της λάθος
κατηγοριοποίησης αποτελεί ακόμα μεγαλύτερο πρόβλημα. Επιπλέον, το να έχει ακόμα
και μικρή, μη μηδενική όμως τιμή το πλήθος των False Positive σημαίνει ότι ο χρήστης θα
πρέπει να ψάχνει και στο φάκελο των spam για κάποιο τυχόν λάθος κατηγοριοποιημένο
μήνυμα κάτι που ακυρώνει ουσιαστικά νόημα του φίλτρου.

Βέβαια πολλά φίλτρα ανεπιθύμητης αλληλογραφίας χρησιμοποιούν πιο σύνθετα μέτρα για την ακρίβεια της εφαρμογής, 
προκειμένου η απόδοση να είναι πιο κοντά στα επιθυμητά αποτελέσματα. Ένας τρόπος εκτίμησης της απόδοσης 
που είναι ιδιαίτερα δημοφιλής με τους αλγορίθμους μηχανικής μάθησης λόγω του φαινομένου ότι δεν είναι ίσα τα
κόστη λάθους κατηγοριοποίησης, (κόστος False Positive πολύ μεγαλύτερο κόστους False
Negative), είναι το γράφημα ROC (Receiver Operating Characteristic).
Όπως αναφέρεται και στο [16], το γράφημα ROC είναι ένα γράφημα 2 διαστάσεων
που απεικονίζει τη σχέση των True Positive με των False Positive κατηγοριοποιήσεων.
Συγκεκριμένα, στον κατακόρυφο άξονα (Υ) απεικονίζεται η αναλογία των True Positive
(True Positive Rate ή Recall) και στον οριζόντιο άξονα (Χ) η αναλογία των False Positive
(False Positive Rate). Ένας κατηγοριοποιητής (classifier) που αποφασίζει ότι ένα έγγραφο/email 
ανήκει σε μία κλάση, παράγει ένα ζευγάρι που αντιστοιχεί σε ένα σημείο στο διάγραμμα ROC.

Προφανώς, σκοπός του κάθε κατηγοριοποιητή ή του φίλτρου ανεπιθύμητης αλληλογραφίας 
στην προκειμένη περίπτωση είναι να βρίσκεται πάνω από την ευθεία y = x
αλλα φυσικά το πόσο σωστά θεωρείται ότι γίνεται η κατηγοριοποίηση εξαρτάται και από
την εφαρμογή. (Π.χ. στην Αναγνώριση Ανεπιθύμητης Αλληλογραφίας είναι σχεδόν ανεπίτρεπτο 
το μη μηδενικό False Positive Rate). Το πλεονέκτημα της αναπαράστασης με
ROC γραφήματα είναι η δυνατότητα που έχει ο κατηγοριοποιητής να θέτει ένα συμβιβασμό (trade-off) 
ανάμεσα στα True Positive και στα False Positive όταν δεν μπορεί να πάρει
απόλυτα ικανοποιητική απόδοση.
Μερικοί κατηγοριοποιητές μπορούν να αποδώσουν μια πιθανότητα στο να ανήκει το
έγγραφο d στην κλάση c, ή κάποιο άλλο παρόμοιο σύστημα πόντων. Με αυτόν τον τρόπο,
στα γραφήματα ROC μπορούν να σχεδιαστούν καμπύλες (ROC Curves) για τις διάφορες
τιμές των εγγράφων και των αποτελεσμάτων τους. Έτσι όπως αναφέρεται και στο [5] ένα
μέτρο απόδοσης που χρησιμοποιείται συχνά από αλγορίθμους μηχανικής μάθησης είναι
η επιφάνεια κάτω από την καμπύλη αυτή (AUC). Η τιμή της AUC είναι ίση με την πιθα-
νότητα ότι ο κατηγοριοποιητής θα προτιμήσει την ”Positive” (spam στην περίπτωση μας)
κλάση για ένα τυχαίο ”Positive” δείγμα αντί για ένα τυχαίο ”Negative” (ham) δείγμα. Έτσι
υψηλότερη τιμή AUC σημαίνει γενικά υψηλότερη ακρίβεια / μεγαλύτερη απόδοση 
του κατηγοριοποιητή. Βέβαια στα [5, 17] φαίνεται ότι οι V. Metsis, I. Androutsopoulos και G.
Paliouras δεν θεωρούν ότι η χρήση της AUC ως μέτρο σύγκρισης για την απόδοση των
φίλτρων ανεπιθύμητης αλληλογραφίας ενδείκνυται επειδή επηρεάζεται από περιοχές με
ηψηλό Ham Recall / False Positive Rate που δεν έχουν ενδιαφέρον στην πράξη. Δηλαδή
μπορεί ένας κατηγοριοποιητής να έχει καλύτερη απόδοση σχετικά με το False Positive
Rate και παρόλα αυτά να έχει μικρότερη τιμή AUC. Γι’αυτό η σύγκριση μεταξύ τέτοιων
φίλτρων χρησιμοποιώντας μόνο ένα μέτρο απόδοσης μπορεί να προκαλεί λανθασμένα
συμπεράσματα.

Το πιο σημαντικό σημαντικό ίσως κομμάτι ενός Φίλτρου Αναγνώρισης Ανεπιθύμητης Αλληλογραφίας 
είναι ο αλγόριθμος που θα χρησιμοποιήσει για να ταξινομήσει το εισερχόμενο ηλεκτρονικό μήνυμα 
σε μία από τις κλάσεις fspam; hamg να αποφανθεί δηλαδή αν είναι θεμιτό ή αθέμιτο. 
Παρακάτω αναφέρονται τα βασικά στοιχεία για κάποιους από τους πιο διαδεδομένους αλγορίθμους κατηγοριοποίησης 
που χρησιμοποιούνται σε Φίλτρα Ανεπιθύμητης Αλλήλογραφίας.

Για την κατηγοριοποίηση / ταξινόμηση ενός εγγράφου σε μία κλάση, όπως και στην
περίπτωση της Αναγνώρισης Ανεπιθύμητης Αλληλογραφίας που πρέπει ένα μήνυμα να
κατηγοριοποιηθεί ως θεμιτό ή αθέμιτο, μπορεί να χρησιμοποιηθεί ο αλγόριθμος Naive
Bayes. 

Έτσι ο κανόνας της κατηγοριοποίησης είναι απλός. Αν P(spamj⃗x) > P(hamj⃗x), 
δηλαδή αν η εκ των υστέρων (a posteriori) πιθανότητα το έγγραφο με αναπαράσταση ⃗x
να είναι αθέμιτο είναι μεγαλύτερη από την αντίστοιχη πιθανότητα να είναι θεμιτό, τότε το
κατηγοριοποιούμε ως αθέμιτο, σε διαφορετική περίπτωση το κατηγοριοποιούμε ως θεμιτό. 
Βέβαια στην πράξη το να υπολογιστούν αυτές οι 2 πιθανότητες είναι περίπλοκο και
γίνεται στη φάση της Εκπαίδευσης (Training) του κατηγοριοποιητή αφού πρώτα υπολογιστούν 
οι πιθανότητες P(xijc), i = 1; 2; (cid:1) (cid:1) (cid:1) ; N για c 2 fspam; hamg από τα έγγραφα
εκπαίδευσης. Και τελικά στη φάση της Κατηγοριοποίησης / Ταξινόμησης (Classification),
δεδομένου ενός εγγράφου / μηνύματος d υπολογίζεται το διάνυσμα αναπαράστασης ⃗x και
από αυτό ανάλογα με την τιμή των παραπάνω πιθανοτήτων και τον κανόνα απόφασης,
επιλέγεται η κλάση fspam; hamg στην οποία ανήκει το d.
Αυτή είναι η βασική ιδέα πίσω από τον Naive Bayes κατηγοριοποιητή. Παραλλαγές αυτού 
χρησιμοποιούνται και σε σύγχρονα φίλτρα ανεπιθύμητης αλληλογραφίας όπως στα [17, 18] 
και οι διαφοροποιήσεις μπορούν να συνίστανται στο πλήθος και το είδος των
χαρακτηριστικών που επιλέγονται, στο πιθανοτικό μοντέλο που υιοθετείται ή η συχνότητα
και ο τρόπος της Εκπαίδευσης του κατηγοριοποιητή. Ο αλγόριθμος αυτός θεωρείται από
τους πιο απλούς, έχοντας όμως ικανοποιητικά αποτελέσματα κατηγοριοποίησης και συ-
χνά χρησιμοποιείται για σύγκριση με νέες μεθόδους.

Ο αλγόριθμος των k-Πλησιέστερων Γειτόνων (k-Nearest Neighbors) προϋποθέτει
ότι υπάρχει η έννοια της απόστασης μεταξύ μηνυμάτων. Δηλαδή είμαστε σε θέση να απο-
φανθούμε πόσο ”κοντά” είναι ένα έγγραφο / μήνυμα με ένα άλλο. Γι αυτό το σκοπό μπορεί
να χρησιμοποιηθεί και η ευκλείδεια απόσταση δύο διανυσμάτων για τα διανύσματα αναπαράστασης των δύο μηνυμάτων.
Η ιδέα του αλγορίθμου αυτού είναι να κατηγοριοποιήσει ένα μήνυμα ανάλογα με την κλάση
που ανήκουν τα k ”πλησιέστερα” (με τη μικρότερη απόσταση) μηνύματα από το σύνολο
των μηνυμάτων εκπαίδευσης.
Στο [19] αναφέρεται μια μετατροπή του κανόνα κατηγοριοποίησης του αλγορίθμου
προκειμένου να μειωθούν τα ποσοστά των False Positives, κάτι που είναι ζωτικής σημασίας 
για ένα φίλτρο ανεπιθύμητης αλληλογραφίας. Η μετατροπή αυτή συνίσταται στην
εφαρμογή του l=k - κανόνα. Δηλαδή, αν για ένα μήνυμα d, l ή περισσότερα μηνύματα μεταξύ 
των k πλησιέστερων γειτόνων του ανήκουν στην κλάση spam (είναι αθέμιτα), τότε
κατέταξε και το d ως αθέμιτο, αλλιώς κατέταξέ το ως θεμιτό.
Ο Αλγόριθμος των των kΠλησιέστερων Γειτόνων απαιτεί, για κάθε μήνυμα που
πρέπει να κατηγοριοποιηθεί, να υπολογιστεί η απόσταση του προς όλα τα μηνύματα εκπαίδευσης 
προκειμένου να επιλεχθούν τα k πλησιέστερα σε αυτό. Γι αυτό το λόγο ο αλγόριθμος 
αυτός έχει αρκετά μεγάλη χρονική πολυπλοκότητα αλλά όπως αναφέρεται
και στο [8] έχει μεγαλύτερη ακρίβεια (Accuracy) συγκριτικά με 2 άλλους αλγορίθμους που
δοκιμάστηκαν.

Οι Μηχανές Διανυσμάτων Υποστήριξης είναι ένας από
τους πιο διαδεδομένος αλγορίθμους κατηγοριοποίησης. Ας υποθέσουμε ότι μεταξύ των
δεδομένων μας (μηνύματα) που ανήκουν σε μία απο δύο κλάσεις 
υπάρχει γραμμική διαχωριστικότητα, δηλαδή ότι αν τα δεδομένα αναπαρίστανται 
από σημεία στο επίπεδο, μπορούν να διαχωριστούν όλα τα στοιχεία της μίας
κλάσης από όλα τα στοιχεία της άλλης κλάσης μέσω μίας γραμμής, που έχει εκατέρωθεν 
τα εκάστοτε δεδομένα. Η ιδέα του αλγορίθμου είναι να βρεί το μεγαλύτερο δυνατό
περιθώριο μεταξύ των δεδομένων των δύο κλάσεων.
Αφού έχει μεγιστοποιηθεί το περιθώριο μεταξύ των δύο ξεχωριστών συνόλων από
δεδομένα, τότε κάθε καινούριο μήνυμα που πρέπει να κατηγοριοποιηθεί αντιστοιχίζεται
και αυτό στο χώρο που βρίσκονται τα δεδομένα της εκπαίδευσης και ανάλογα με τη θέση
του στο χώρο αυτό αποφασίζεται η κλάση στην οποία ανήκει. Βέβαια η διαδικασία αυτή
ανάγεται αμέσως και σε περισσότερες από δύο διαστάσεις και η λειτουργία της Μηχανής
Διανυσμάτων Υποστήριξης είναι να επιλέξει το βέλτιστο υπερεπίπεδο (hyperplane) 
(υποχώρος με μία διάσταση λιγότερη) κατ’αναλογία με την ευθεία στον δισδιάστατο χώρο.
Βέλτιστο θεωρείται το υπερεπίπεδο με τη μεγαλύτερη απόσταση από το κοντινότερο δεδομένο εκπαίδευσης 
που αντιστοιχεί και σε βέλτιστη ακρίβεια του κατηγοριοποιητή. 
Τα δεδομένα που βρίσκονται πλησιέστερα από όλα στο υπερεπίπεδο ονομάζονται διανύσματα
υποστήριξης από όπου προκύπτει και η ονομασία του αλγορίθμου.

Όπως αναφέρεται και στο [20], στην περίπτωση που τα δεδομένα εκπαίδευσης δεν
είναι γραμμικά διαχωρίσιμα, υπάρχουν τεχνικές για να εφαρμοστεί ο αλγόριθμος. Επίσης
προτέρημα του αλγορίθμου των Μηχανών Διανυσμάτων Υποστήριξης είναι ότι μπορούν
να αντεπεξέλθουν εύκολα σε διανύσματα μεγάλων διαστάσεων και γι’αυτό πολλές φορές 
δεν χρειάζεται να γίνει επιλογή των πιο αντιπροσωπευτικών χαρακτηριστικών για την
αναπαράσταση, προκειμένου να μειωθεί η διάσταση των διανυσμάτων.

Βέβαια τα συνηθέστερα Νευρωνικά Δίκτυα αποτελούνται απο περισσότερους του
ενός Νευρώνες και συγκεκριμένα από μερικά επίπεδα Νευρώνων (πολυεπίπεδα Νευρωνικά Δίκτυα / Multilayer Perceptron) 
ένα από τα οποία είναι το επίπεδο Εισόδου, ένα το επίπεδο Εξόδου και τα ενδιάμεσα
ονομάζονται Κρυφά επίπεδα. Οι έξοδοι καθενός από τα
επίπεδα τροφοδοτεί την είσοδο του επόμενου. Βέβαια το πλήθος των Νευρώνων σε κάθε
επίπεδο και η δομή του Δικτύου δεν είναι τετριμμένα, και η εκπαίδευση του πολυεπίπεδου
Δικτύου είναι μια πιο σύνθετη και χρονοβόρα διαδικασία από αυτή του ενός Νευρώνα και
σκοπό έχει την ελαχιστοποίηση της συνάρτησης σφάλματος.
Νευρωνικά Δίκτυα ως αλγόριθμος κατηγοριοποίησης σε Φίλτρο Ανεπιθύμητης Αλληλογραφίας 
χρησιμοποιείται αρκετά συχνά όπως στα [2, 11] με ικανοποιητικά αποτελέσματα. 
Από την άλλη οι D. Puniškis, R. Laurutis και R. Dirmeikis στο [12] αναφέρουν πως
δεν συνιστούν την αποκλειστική χρήση Νευρωνικών Δικτύων για αντιμετώπιση Ανεπιθύμητης Αλληλογραφίας 
λόγω του χαμηλού αλλά μη μηδενικού ποσοστού False Positive.
Βέβαια οι T. Kathirvalavakumar, K. Kavitha και R. Palaniappan στο [6] που προσπαθούν
να αναγνωρίσουν email κλοπής ταυτότητας (phising) και χρησιμοποιούν κάποια ειδικά 
χαρακτηριστικά για την αναπαράστασή των μηνυμάτων αναφέρουν μηδενικό ποσοστό False

Στο πλαίσιο αυτής της εργασίας κατασκευάστηκε ένα Φίλτρο Ανεπιθύμητης Αλληλογραφίας. 
Ο αλγόριθμος που χρησιμοποιήθηκε για την κατηγοριοποίηση των ηλεκτρονικών
μηνυμάτων σε μία εκ των κατηγοριών {ham, spam} δηλαδή {θεμιτά, αθέμιτα} είναι τα Νευρωνικά Δίκτυα. 
Πιο συγκεκριμένα, χρησιμοποιήθηκε ο αλγόριθμος Πολυεπίπεδου Δικτύου Αισθητήρων.
Ένα Πολυεπίπεδο Δίκτυο Αισθητήρων είναι ένα προς τα εμπρός τροφοδοτούμενο
(feed-forward) Νευρωνικό Δίκτυο. Το MLP αποτελείται από επίπεδα νευρώνων. 
Στην περίπτωση της αναγνώρισης ανεπιθύμητης αλληλογραφίας, που είναι ένα είδος κατηγοριοποίησης κειμένου, 
το επίπεδο Εισόδου αποτελείται από όσους Νευρώνες όσα και τα χαρακτηριστικά που χρησιμοποιούνται 
για την αναπαράσταση των μηνυμάτων. Tο επίπεδο Εξόδου αποτελείται από δύο κόμβους 
που ο καθένας αντιπροσωπεύει μία κλάση, που στην συγκεκριμένη περίπτωση είναι μία εκ των {ham, spam}. 
Ενδιάμεσα υπάρχουν ένα η περισσότερα κρυφά επίπεδα Νευρώνων. Για την εκπαίδευση του δικτύου 
χρησιμοποιείται ο αλγόριθμος της προς τα πίσω διάδοσης (backpropagation) μεταβάλλοντας τα βάρη
έως ότου η συνάρτηση σφάλματος φτάσει σε κάποια προαποφασισμένη τιμή, ή μετά από
κάποιο προαποφασισμένο πλήθος επαναλήψεων / εποχών (epochs).
Τα ηλεκτρονικά μηνύματα έχουν αναπαρασταθεί ως ένα διάνυσμα, διάστασης ίσης
με το πλήθος των χαρακτηριστικών που επιλέχτηκαν. Οι τιμές που παίρνει κάθε συντεταγμένη xi 
του διανύσματος αναπαράστασης είναι δυαδικές f0; 1g και σηματοδοτούν την
ύπαρξη ή την απουσία του χαρακτηριστικού ti στο μήνυμα. Οι τιμές αυτές είναι και οι τιμές
εισόδου στους κόμβους του Νευρωνικού Δικτύου.
Στη φάση της προεπεξεργασίας των μηνυμάτων εφαρμόστηκε αρχικά η απομόνωση
του σώματος (Body) του κάθε μηνύματος από το οποίο και θα αποσπάσουμε όλη την
πληροφορία που θα χρησιμοποιήσουμε. Στη συνέχεια τα μηνύματα πέρασαν από τη 
διαδικασία της Στοιχειοποίησης (Tokenization) προκειμένου να διαχωριστούν όλες οι λέξεις
μέσα στο κείμενο σαν στοιχεία (tokens) και να κρατηθούν μόνο αυτά. Δηλαδή, τώρα κάθε
μήνυμα αντικαθίσταται από ένα σύνολο από τις λέξεις που περιέχει.
Στη συνέχεια εφαρμόζεται η τεχνική της Λημματοποίησης (Lemmatization), δηλαδή
κάθε λέξη που υπάρχει σε ένα μήνυμα μετατρέπεται στη ριζική της μορφή. Με αυτόν
τον τρόπο όλες οι ομόρριζες λέξεις ταυτίζονται πλέον στον ίδιο όρο. Από αυτούς τους
όρους αφαιρούνται εκείνοι οι οποίοι είναι πολύ κοινοί σχεδόν σε κάθε μήνυμα (Stop Word
Removal) και δεν προσφέρουν καμία ουσιαστική πληροφορία για την κατηγορία που ανήκει το κείμενο αυτό.
Για την επιλογή των πιο αντιπροσωπευτικών χαρακτηριστικών για κάθε μήνυμα ούτως ώστε να γίνει 
η αναπαράσταση χρησιμοποιούνται οι όροι με την μεγαλύτερη τιμή μιας μετρικής (Ctfidf / Corpustfidf ). 
Η συγκεκριμένη μετρική αποτελεί μια παραλλαγή της tf-idf και πειραματικά έδειξε ότι έχει καλύτερα αποτελέσματα κατηγοριοποίησης από άλλες
που δοκιμάστηκαν. Τα πειραματικά αποτελέσματα είναι εμφανή στην αντίστοιχη ενότητα.
Η Ctfidf υπολογίζει μια μόνο τιμή για κάθε όρο σε αντίθεση με την tfidf που υπολογίζει
για κάθε όρο όσες τιμές όσο και το πλήθος των εγγράφων που εμφανίζεται ο όρος αυτός. 
Η μετρική αυτή χρησιμοποιεί το άθροισμα των tf (term frequency) συχνοτήτων του
όρου σε όλα τα έγγραφα που εμφανίζεται. 
Για να πραγματοποιηθεί αυτό, υπολογίζεται για κάθε μοναδικό όρο που υπάρχει
στο σύνολο των μηνυμάτων η Ctfidf τιμή του, κατατάσσονται με φθίνουσα σειρά και στη
συνέχεια επιλέγονται οι πρώτοι N από αυτούς. Σαν χαρακτηριστικό μηνύματος έχουμε
θεωρήσει την ύπαρξη ή μη αυτών των όρων στο μήνυμα, και έτσι δημιουργείται για κάθε
μήνυμα το διάνυσμα αναπαράστασης του.
Για την υλοποίηση του Φίλτρου Ανεπιθύμητης Αλληλογραφίας χρησιμοποιήθηκε
η προγραμματιστική βιβλιοθήκη της πλατφόρμας Weka από το πανεπιστήμιο του
Waikato. Το περιβάλλον Weka προσφέρει, μεταξύ άλλων, μια συλλογή από αλγορίθμους
μηχανικής μάθησης υλοποιημένους σε Java. 

Για την παραγωγή του .arff αρχείου, αρχικά απομονώνεται το Σώμα (Body) από
κάθε μήνυμα των αρχείων εκπαίδευσης. Για αυτό χρησιμοποιείται το package javax.mail
που προσφέρει δυνατότητες για προγραμματιστική διαχείριση ηλεκτρονικών μηνυμάτων
(email). Δημιουργούνται έτσι και αποθηκεύονται καινούρια αρχεία που περιέχουν μόνο το
Σώμα κάθε μηνύματος.
Στη συνέχεια, γίνεται μια επεξεργασία πάνω στα αρχεία με το περιεχόμενο προκειμένου 
να πραγματοποιηθεί η τεχνική της Λημματοποίησης (Lemmatization). Για αυτό
χρησιμοποιήθηκε το εργαλείο morpha. Το εργαλείο αυτό μετατρέπει κάθε λέξη στη
ριζική της μορφή. Η διαφορά του morpha με άλλα εργαλεία που πραγματοποιούν 
Λημματοποίηση είναι ότι το morpha αντιστοιχίζει κάθε λέξη του κειμένου σε κάποια υπάρχουσα
λέξη, αντί να κάνει απλή αφαίρεση των καταλήξεων (Stemming). Για παράδειγμα οι λέξεις
having και have θα αντιστοιχιστούν και οι δύο στον όρο have ενώ με άλλα εργαλεία θα
αντιστοιχίζονταν στον όρο hav. Το προτέρημα αυτής της τεχνικής είναι ότι το αποτέλεσμα
της Λημματοποίησης είναι πιο αναγνώσιμο και κατανοήσημο σε περίπτωση που κάποιος
θέλει να το περιεργαστεί. Δημιουργούνται λοιπόν αρχεία (.lemma) που περιέχουν μόνο τις
ριζικές μορφές των λέξεων των αρχείων εκπαίδευσης.
Ανάλογα με την ύπαρξη ή όχι των N πρώτων όρων αυτής της κατάταξης σε ένα μήνυμα, δημιουργείται
ένα διάνυσμα με τις τιμές 0; 1 στη θέση κάθε όρου. Από αυτά τα διανύσματα δημιουργείται
το .arff αρχείο προκειμένου να δοθεί σαν αρχείο εκπαίδευσης στο MultilayerPerceptron της
βιβλιοθήκης Weka.

Στη συνέχεια αντλούνται τα αποτελέσματα από τον πίνακα σύγχυσης (confusion
matrix) και γράφονται σε κάποιο log file, προκειμένου να γίνει η σύγκριση μεταξύ διάφορων
εκτελέσεων.
Πραγματοποιήθηκε μια πειραματική ανάλυση προκειμένου να βρεθούν οι κατάλληλες τιμές 
όσον αφορά το πλήθος των χαρακτηριστικών που επιλέγονται για την αναπαράσταση, 
αλλά και τις παραμέτρους του Νευρωνικού Δικτύου.
Η συλλογή ηλεκτρονικών μηνυμάτων που χρησιμοποιήθηκε για την εκπαίδευση του
Νευρωνικού Δικτύου είναι μια δημόσια συλλογή του SpamAssasin. Από αυτή 
χρησιμοποιήθηκαν 8853 μηνύματα, εκ των οποίων 6453 είναι θεμιτά και 2400 αθέμιτα. 
Συγκεκριμένα χρησιμοποιήθηκαν τα αρχεία των καταλόγων easy_ham, easy_ham_2, spam και
spam_2.
Για την αξιολόγηση της απόδοσης του Φίλτρου χρησιμοποιήθηκε 10Fold Cross
Validation. Η τεχνική του Cross Validation χωρίζει τα δεδομένα σε 90% δεδομένα 
εκπαίδευσης και 10% δεδομένα επαλήθευσης. Με 10Fold Cross Validation εννοούμε 
ότι η λειτουργία αυτή γίνεται 10 φορές, αλλά την κάθε φορά επιλέγεται διαφορετικό τμήμα των
δεδομένων για εκπαίδευση ή επαλήθευση από τις προηγούμενες. Στο τέλος σαν αποτέλεσμα της απόδοσης 
του Κατηγοριοποιητή που εξετάζεται, παίρνουμε τον μέσο όρο των αποτελεσμάτων των 10 γύρων (folds) επαλήθευσης.
Σημαντικό είναι επίσης ο διαχωρισμός των δεδομένων σε δεδομένα εκπαίδευσης και
επαλήθευσης να γίνεται με τέτοιο τρόπο ώστε να διατηρείται η αναλογία των μηνυμάτων
που ανήκουν σε κάθε κλάση, σε όλους τους γύρους επαλήθευσης. Σαν μέτρο απόδοσης
χρησιμοποιούνται τα ποσοστά των True Positive, True Negative, False Positive, False
Negative, όπως αυτα έχουν περιγραφεί προηγουμένως, αλλά και ένα γενικότερο μέτρο
ακρίβειας. Προτίστως δίνεται έμφαση στο μικρό ποσοστό
False Positive και δευτερευόντως στο μεγάλο ποσοστό Accuracy.

Η σημαντικότητα του χαμηλού (ιδανικά μηδενικού) ποσοστού False Positive έχει
αναφερθεί και παραπάνω. Πρωταρχικό μέλημα κατά την ανάπτυξη ενός φίλτρου 
Ανεπιθύμητης Αλληλογραφίας πρέπει να είναι να μην αποκλείονται θεμιτά μηνύματα στην
προσπάθεια αντιμετώπισης των αθέμιτων. Το φραγμένο θεμιτό μήνυμα μπορεί να είναι
μεγάλης σημαντικότητας και σε κάθε περίπτωση δεν είναι στην ευχέρεια του φίλτρου (ή
του σχεδιαστή) να το κρίνει. Γι αυτό το λόγο προτεραιότητα έχει να κατηγοριοποιηθούν το
λιγότερο δυνατόν θεμιτά μηνύματα ως αθέμιτα.
Προκειμένου να αποφασιστούν οι σημαντικότεροι όροι στη συλλογή δεδομένων που
χρησιμοποιούμε για να γίνει η αναπαράσταση των μηνυμάτων με βάση αυτούς, δοκιμάστηκαν 
κάποιες μετρικές. Οι μετρικές αυτές δίνουν σε κάθε όρο μία τιμή που αντιστοιχεί
στη σημαντικότητά του. Μία προσέγγιση ήταν να χρησιμοποιηθούν οι N όροι με τις μεγαλύτερες 
tfidf τιμές. Μία δεύτερη προσέγγιση ήταν να χρησιμοποιηθούν οι N όροι με τους
μεγαλύτερους μέσους όρους των K υψηλότερων tfidf τιμών για αυτόν τον όρο (η τιμή
του K είναι μεταβλητή και δοκιμάζεται). Τέλος μία τρίτη προσέγγιση ήταν να επιλεγούν
οι N όροι με τη μεγαλύτερη τιμή της μετρικής Ctfidf / Corpustfidf όπως αυτή ορίστηκε
προηγουμένως.
Παρακάτω φαίνεται η απόδοση της κατηγοριοποίησης ανάλογα με τη μετρική που
χρησιμοποιείται για την επιλογή των χαρακτηριστικών για διάφορες τιμές του πλήθους των
χαρακτηριστικών. Σαν tfidf παρουσιάζεται η πρώτη προσέγγιση που αναφέρθηκε, σαν K-tfidf 
η δεύτερη προσέγγιση με διευκρίνιση για την τιμή του K, και ως Ctfidf παρουσιάζεται
η τρίτη προσέγγιση, με χρήση δηλαδή της μετρικής που αναφέρθηκε παραπάνω.
False Positive Rate ανάλογα με τη μετρική επιλογής χαρακτηριστικών

Από το διάγραμμα του ποσοστού των False Positive παρατηρούμε ότι με χρήση της
μετρικής tfidf για την επιλογή των χαρακτηριστικών, υπάρχουν μεγάλα ποσοστά False
Positive Rate, κάτι που πρέπει να αποφεύγεται στην Αναγνώριση Ανεπιθύμητης Αλληλογραφίας. 
Ακόμα βλέπουμε ότι στη γενική περίπτωση, η μετρική Ktfidf έχει καλύτερα
αποτελέσματα όσο μεγαλώνει η τιμή του K, και τέλος, η χαμηλότερη τιμή που παρατηρήθηκε 
ήταν με τη χρήση της μετρικής Ctfidf. Ακολουθεί και το διάγραμμα της Ακρίβειας
της κατηγοριοποίησης όπου η σύγκριση των μετρικών είναι πιο ξεκάθαρη.

Στο διάγραμμα της Ακρίβειας της κατηγοριοποίησης παρατηρούμε ότι με τη χρήση
της μετρικής tfidf είχαμε το χαμηλότερο ποσοστό Ακρίβειας. Ακόμα, φαίνεται ξεκάθαρα
ότι η μετρική Ktfidf έχει συνεχώς καλύτερα αποτελέσματα όσο αυξάνεται η τιμή του K.
Τέλος, βλέπουμε ότι με την χρήση της Ctfidf για επιλογή χαρακτηριστικών, παίρνουμε
σχεδόν σε όλες τις περιπτώσεις μεγαλύτερη Ακρίβεια κατηγοριοποίησης.
Αξίζει να σημειωθεί ότι με τη χρήση της μετρικής Ktfidf για επιλογή χαρακτηριστικών, 
δεν μπορούν να ληφθούν υπ’ όψιν όροι που εμφανίζονται σε λιγότερα από K έγγραφα
(έχουν δηλαδή dfi < K). Έτσι για σχετικά μεγάλες τιμές του K υπάρχει περιορισμός στο
πλήθος των χαρακτηριστικών που μπορεί να χρησιμοποιηθούν.
Λαμβάνοντας υπ’ όψιν τα παραπάνω, επιλέγουμε για τη συνέχεια των πειραμάτων
να χρησιμοποιήσουμε την μετρική Ctfidf για την επιλογή των χαρακτηριστικών 
αναπαράστασης των μηνυμάτων / εγγράφων.
Στη συνέχεια έγιναν πειραματικές δοκιμές προκειμένου να αποφασιστεί το πλήθος
των χαρακτηριστικών για την αναπαράσταση των μηνυμάτων που επιφέρει τα καλύτερα
αποτελέσματα Με δύο αρχικές διαμορφώσεις του νευρωνικού δικτύου χρησιμοποιήθηκε
διαφορετικό πλήθος χαρακτηριστικών για αναπαράσταση των μηνυμάτων και παρατηρήθηκαν 
τα μέτρα της απόδοσης της Κατηγοριοποίησης. Τα αποτελέσματα των δοκιμών αυτών φαίνονται παρακάτω.

Παρατηρούμε ότι για 700 και 750 χαρακτηριστικά, δηλαδή αναπαράσταση των μηνυμάτων 
με διανύσματα διάστασης 700 και 750 αντίστοιχα, έχουμε το χαμηλότερο ποσοστό
False Positive και για τις δύο διαμορφώσεις του δικτύου. Συγκεκριμένα για την πρώτη
αυτά είναι 0.33% ή 21 μηνύματα και 700 και για 750 χαρακτηριστικά ενώ για τη δεύτερη
είναι 0.36% ή 23 μηνύματα για επιλογή 700 χαρακτηριστικών και 0.33% ή 21 μηνύματα
για επιλογή 750 χαρακτηριστικών. Μεταξύ δύο επιλογών με ίδιο αποτέλεσμα γενικά καλύτερη 
φαίνεται η επιλογή των λιγότερων χαρακτηριστικών διότι οδηγεί σε διανύσματα
αναπαράστασης μικρότερης διάστασης και κατ’ επέκταση σε καλύτερη χρονική απόδοση
του φίλτρου στη διάρκεια της εκπαίδευσης.
Παρακάτω βλέπουμε τα αντίστοιχα αποτελέσματα των πειραμάτων για την τιμή της
γενικότερης ακρίβειας (Accuracy) του κατηγοριοποιητή και όπως φαίνεται η ακρίβεια με
επιλογή 700 χαρακτηριστικών απέχει πολύ λίγο από την μέγιστη ακρίβεια που εμφανίζεται
στην πρώτη διαμόρφωση του δικτύου, και έχει την μέγιστη τιμή για τη δεύτερη.
Πιο συγκεκριμένα, με την πρώτη διαμόρφωση του δικτύου η μέγιστη τιμή για το
Accuracy ήταν 98.6% για 550 χαρακτηριστικά και αυτή των 700 χαρακτηριστικών ήταν
98.36%, ενώ για 750 χαρακτηριστικά είναι 97.5%. Στη δεύτερη διαμόρφωση η ακρίβεια
για τα 700 χαρακτηριστικά είναι η μέγιστη που εμφανίστηκε και είναι αυτή του 99.09% ενώ
για 750 χαρακτηριστικά είναι 99.05%.
Για αυτό το λόγο αν συμπεριλάβουμε τα αποτελέσματα του ποσοστού των False
Positive και αυτά της ακρίβειας καταλήγουμε ότι θα χρησιμοποιηθούν 700 χαρακτηριστικά
για την αναπαράσταση των μηνυμάτων, δηλαδή επιλέγονται οι 700 όροι μη την μεγαλύτερη tfidf τιμή.
Σε ένα Νευρωνικό Δίκτυο υπάρχουν ορισμένοι παράγοντες που παραμετροποιούν
τον αλγόριθμο και συνεπώς και την απόδοσή του στην κατηγοριοποίηση των μηνυμά-
των. Οι παράμετροι αυτοί είναι η ”Ορμή” (Momentum) του δικτύου, ο Ρυθμός Εκμάθη-
σης (Learning Rate), η Αρχιτεκτονική του, δηλαδή η διάταξη των επιπέδων των κόμβων
(πλήθος κρυφών επιπέδων και κόμβων σε αυτά), αλλά και ο χρόνος εκπαίδευσης με τα
κατηγοριοποιημένα δεδομένα. Τα προηγούμενα πειράματα έγιναν με δύο αρχικές διαμορφώσεις 
του Νευρωνικού Δικτύου με σταθερές τιμές σε αυτές τις παραμέτρους και μοναδική
μεταβολή στο πλήθος των χαρακτηριστικών.
Στη συνέχεια, χρησιμοποιώντας 700 χαρακτηριστικά για την αναπαράσταση των
μνημάτων, εφαρμόζουμε αντίστοιχα πειράματα για να προσεγγίσουμε τις τιμές 
των παραμέτρων του Νευρωνικού Δικτύου που θα δώσουν τα καλύτερα αποτελέσματα 
στην κατηγοριοποίηση των μηνυμάτων.
Αρχικά, έχουμε σταθερές τιμές σε όλες τις παραμέτρους εκτός της ”Ορμής” (Momentum)
την οποία και μεταβάλουμε. Χρησιμοποιούμε πάλι 2 διαμορφώσεις του δικτύου (που διαφέρουν στο Ρυθμό Εκμάθησης) 
και καταγράφουμε τα ποσοστά των False Positive και την ακρίβεια της κατηγοριοποίησης 
για τις δύο αυτές διαμορφώσεις. Χρησιμοποιούνται δύο διαμορφώσεις αντί για μία για να υπάρχει 
μία πιο καθαρή εικόνα των αποτελεσμάτων. Επίσης μια εξαντλητική αναζήτηση για κάθε τιμή 
κάθε παραμέτρου είναι πρακτικά σχεδόν αδύνατη με δίκτυο τέτοιων διαστάσεων.

Από το γράφημα του ποσοστού των False Positive φαίνεται ότι στην πρώτη διαμόρφωση του δικτύου 
η κατηγοριοποίηση γίνεται πολύ ασταθής για τιμές της Ορμής μεγαλύτερες από 0.5. 
Μέχρι αυτό το σημείο όμως, το μικρότερο ποσοστό είναι 0.33 ή 21
μηνύματα και επιτυγχάνεται για Ορμή 0.2. Στη δεύτερη διαμόρφωση δεν είναι εμφανές
παρόμοιο φαινόμενο από την καμπύλη του ποσοστού των False Positive για μεγάλες τιμές 
της Ορμής και οι ελάχιστες τιμές του επιτυγχάνονται για Ορμή 0.2 και 0.9 και είναι 0.36
και 0.33 αντίστοιχα.
Τα πράγματα γίνονται πιο ξεκάθαρα όταν παρουσιάζεται η ακρίβεια της κατηγοριοποίησης. 
Εδώ βλέπουμε ότι και στις δύο διαμορφώσεις του δικτύου η ακρίβεια όντως φθίνει 
με την αύξηση της Ορμής. Αυτό συμβαίνει πιο νωρίς και με πολύ πιο γρήγορο τρόπο
στην πρώτη διαμόρφωση αλλά πιο ήπια και στις δύο. Στην δεύτερη διαμόρφωση η μέγιστη 
ακρίβεια επιτυγχάνεται για Ορμή 0.2, που είναι και η δεύτερη μέγιστη τιμή της πρώτης
διαμόρφωσης.
Επομένως βλέποντας τόσο τις τιμές του ποσοστού των False Positive όσο και τη
γενικότερη ακρίβεια της κατηγοριοποίησης του φίλτρου, φαίνεται ότι οι τιμές της Ορμής
που είχαν μικρό ποσοστό False Positive, είχαν στην πραγματικότητα πολύ μεγάλο ποσοστό False Negative, 
κάτι που ρίχνει κατακόρυφα την ακρίβεια. Έτσι, καταλήγουμε ότι 0.2
είναι μία κατάλληλη τιμή για την Ορμή του Νευρωνικού Δικτύου.
Με σταθερές τιμές στις άλλες παραμέτρους εκτός του Ρυθμού Εκμάθησης παρατηρούμε 
το ποσοστό των False Positive και την Ακρίβεια του δικτύου. Χρησιμοποιούνται
700 χαρακτηριστικά για την αναπαράσταση κάθε μηνύματος, και η ορμή του δικτύου έχει
τεθεί σε 0.2. Οι δύο διαμορφώσεις (Configuration1, Configuration2) που δοκιμάζονται 
διαφέρουν στο χρόνο εκπαίδευσης του δικτύου.

Βλέπουμε ότι το ποσοστό των False Positive κυμαίνεται μεταξύ 0.3% και 0.5% με την
μικρότερη τιμή που παρατηρήθηκε να είναι 0.33% για Ρυθμό Εκμάθησης ίσο με 0.5 στην
πρώτη διαμόρφωση. Στη δεύτερη διαμόρφωση παρατηρείται πολύ παρόμοια διακύμανση
με μικρότερη βέβαια ελάχιστη τιμή, ίση με 0.29% για Ρυθμό Εκμάθησης ίσο με 0.1. Βέβαια
από τις παραπάνω καμπύλες φαίνεται ότι το ποσοστό των False Positive δεν έχει σταθερή
πορεία όσο αυξάνεται ο Ρυθμός Εκμάθησης. Επιπλέον εφόσον οι διαφορές μεταξύ των
τοπικών ελαχίστων είναι μικρές δεν μπορούμε με σιγουριά να επιλέξουμε την καλύτερη
τιμή του Ρυθμού Εκμάθησης καθώς τα αντίστοιχα ποσοστά μπορεί να μεταβληθούν λόγω
άλλων παραγόντων, όπως ο χρόνος εκπαίδευσης ή η Αρχιτεκτονική του δικτύου.
Καλύτερη εικόνα παίρνουμε από το γράφημα της ακρίβειας της κατηγοριοποίησης,
όπου και φαίνεται μια σταθερή (πτωτική) πορεία της ακρίβειας με την αύξηση του Ρυθμού
Εκμάθησης του Νευρωνικού Δικτύου και για τις δύο διαμορφώσεις του.

Βλέπουμε ότι η ακρίβεια του δικτύου είναι σχεδόν ίδια και για τις δύο διαμορφώσεις
και πιο συγκεκριμένα φθίνει συνεχώς όσο αυξάνεται ο Ρυθμός Εκμάθησης. Μετά την τιμή
του 0.6 μάλιστα έχει πολύ απότομη πτώση. Η μέγιστη τιμή της ακρίβειας παρατηρείται
για Ρυθμό Εκμάθησης ίσο με 0.1. Για αυτήν την τιμή, το ποσοστό των False Positive που
παρατηρήθηκε είναι 0.36% ή αλλιώς 23 μηνύματα, που είναι πολύ κοντά στο ελάχιστο του
0.33% ή 21 μηνύματα για πρώτη περίπτωση, και 0.29% ή 19 μηνύματα που ήταν και το
ελάχιστο στη δεύτερη περίπτωση.
Έτσι φαίνεται ότι η επιλογή της τιμής 0.1 για Ρυθμό Εκμάθησης του δικτύου μπορεί
να είναι καλύτερη από αυτή του 0.5 από άποψη επιδόσεων της τελικής κατηγοριοποίησης.
Παρακάτω θα εξετάσουμε και τις δύο περιπτώσεις για να αποφασίσουμε για την καλύτερη
επιλογή.
Μία ακόμα παράμετρος του Νευρωνικού Δικτύου είναι η Αρχιτεκτονική του. Μέχρι
τώρα οι δοκιμές που έχουν γίνει αφορούν Νευρωνικό Δίκτυο με 1 κρυφό επίπεδο, 
αποτελούμενο από 1 κρυφό κόμβο / Νευρώνα. Στη συνέχεια έγιναν δοκιμές για διαφορετικό
πλήθος Νευρώνων στο κρυφό επίπεδο του δικτύου. Το πλήθος των Νευρώνων που δοκιμάστηκε 
είναι σχετικά μικρό και συγκεκριμένα στο εύρος [1; 9] καθώς ο χρόνος εκτέλεσης
του 10Fold Cross Validation για τις διαστάσεις αναπαράστασης που έχουν χρησιμοποιηθεί 
αυξάνεται πάρα πολύ με την αύξηση των κρυφών κόμβων του δικτύου.
Στα διαγράμματα ου ακολουθούν παρουσιάζεται το ποσοστό των False Positive και
η Ακρίβεια της ταξινόμησης του δικτύου με σταθερές παραμέτρους εκτός από το πλήθος
των Νευρώνων στο κρυφό επίπεδο. Οι δύο διαμορφώσεις (Configuration1, Configuration2)
που ακολουθούν διαφέρουν στο Ρυθμό Εκμάθησης και έχουν τις τιμές 0.5 και 0.1 αντίστοιχα.
Βλέπουμε πως σχεδόν για κάθε πλήθος κόμβων στο κρυφό επίπεδο του δικτύου
χαμηλότερο ποσοστό False Positive έχει η δεύτερη διαμόρφωση (Configuration2). Πιο
συγκεκριμένα, το χαμηλότερο ποσοστό που παρατηρείται είναι 0.23% ή 15 μηνύματα για
5 Νευρώνες στο κρυφό επίπεδο.
Από την καμπύλη της ακρίβειας βλέπουμε μικρές διαφορές ανάλογα με το πλήθος
των κόμβων στο κρυφό επίπεδο του δικτύου για τη δεύτερη διαμόρφωση, και ακόμα 
μικρότερες (σχεδόν σταθερή Ακρίβεια) για την πρώτη διαμόρφωση. Η μεγαλύτερη τιμή που
παρατηρήθηκε είναι 99.1% και επιτεύχθηκε για 6 Νευρώνες στο κρυφό επίπεδο. 
Η αντίστοιχη τιμή για 5 Νευρώνες είναι ελαφρώς μικρότερη και ίση με 98.51%
Επομένως, 5 κόμβοι στο κρυφό επίπεδο του Νευρωνικού Δικτύου έδωσαν το μικρότερο 
ποσοστό False Positive ενώ 6 κόμβοι έδωσαν τη μεγαλύτερη ακρίβεια. Γι’ αυτό το
λόγο στις επόμενες μετρήσεις που αφορούν το χρόνο εκπαίδευσης του δικτύου, 
θα χρησιμοποιηθούν μία διαμόρφωση με 5 κρυφούς κόμβους και μία με 6, στο μοναδικό κρυφό
επίπεδο, προκειμένου να αποφανθούμε την καταλληλότερη.
Παρακάτω φαίνονται τα αποτελέσματα της κατηγοριοποίησης του Νευρωνικού Δικτύου 
με σταθερές τιμές στις παραμέτρους που αναφέρθηκαν προηγουμένως και 
διαφορετικό πλήθος εποχών εκπαίδευσης. Σαν Configuration1 εννοείται η διαμόρφωση με 5
Νευρώνες και σαν Configuration2 η διαμόρφωση με 6 Νευρώνες στο κρυφό δίκτυο.

Από την καμπύλη του ποσοστού των False Positive ανάλογα με το χρόνο εκπαίδευσης του δικτύου 
βλέπουμε ότι οι δύο διαμορφώσεις δεν διαφέρουν πάρα πολύ στις περισσότερες των περιπτώσεων, 
και το μικρότερο ποσοστό που παρατηρείται ανήκει στην (κόκκινη) καμπύλη της δεύτερης διαμόρφωσης 
του δικτύου (Configuration2) αυτή δηλαδή που έχει 6 Νευρώνες στο κρυφό επίπεδο. 
Το ελάχιστο αυτό ποσοστό είναι ίσο με 0.17% ή αλλιώς 11 μηνύματα και επιτυγχάνεται 
για χρόνο εκπαίδευσης του δικτύου ίσο με 700 εποχές.
Στο γράφημα της Ακρίβειας της ταξινόμησης που φαίνεται παρακάτω, τα αποτελέσματα μοιάζουν ακόμα περισσότερο. 
Παρόλα αυτά και σε αυτήν την περίπτωση η μεγαλύτερη τιμή για την Ακρίβεια παρατηρείται 
για τη δεύτερη διαμόρφωση του δικτύου (Configuration2). Η μέγιστη αυτή τιμή είναι ίση με 99.13% 
και επιτυγχάνεται για 750 εποχές εκπαίδευσης του δικτύου. Η Ακρίβεια που επιτυγχάνεται 
για εκπαίδευση 700 εποχών που δίνουν το μικρότερο ποσοστό False Positive 
είναι ίση με 98.83% που δεν απέχει πολύ από τη μέγιστη των 750 εποχών.

Σύμφωνα με τις παραπάνω μετρήσεις λοιπόν, η διαμόρφωση του Νευρωνικού Δικτύου 
που πετυχαίνει τα καλύτερα αποτελέσματα ταξινόμησης από αυτές που δοκιμάστηκαν, 
φαίνεται να είναι το δίκτυο με 1 κρυφό επίπεδο αποτελούμενο από 6 Νευρώνες,
Ρυθμό Εκμάθησης ίσο με 0.1 και Ορμή ίση με 0.2.
Εφόσον δίνουμε πρωταρχική σημασία στο χαμηλό ποσοστό False Positive επιλέγουμε 
ως καλύτερη επιλογή την εκπαίδευση του Δικτύου για 700 εποχές αντί για 750,
θυσιάζοντας ένα μικρό ποσοστό της συνολικής ακρίβειας της κατηγοριοποίησης. 
Τα αποτελέσματα του 10Fold Cross Validation για τη συλλογή δεδομένων του Spam Assasin
φαίνονται παρακάτω:

Από την παρούσα εργασία είναι φανερή η σημαντικότητα ενός Φίλτρου Ανεπιθύμητης Αλληλογραφίας. 
Επίσης, είναι φανερή η σημαντικότητα της προφύλαξης των θεμιτών
μηνυμάτων και κατ’ επέκταση η ανάγκη για χαμηλά ποσοστά False Positive. Αφού όμως
τα ποσοστά αυτά ρεαλιστικά δεν μπορεί να είναι μηδενικά, θα πρέπει πρώτον να είναι όσο
το δυνατόν πιο κοντά στο μηδέν και δεύτερον να μην διαγράφεται τελείως ένα μήνυμα αν
κατηγοριοποιηθεί ως ανεπιθύμητο. Αντί αυτού θα πρέπει να φέρει την αντίστοιχη ένδειξη
ή να περιέχεται σε κατάλληλο ”φάκελο” στο γραμματοκιβώτιο του χρήστη προκειμένου
αυτός να είναι σε θέση να το αξιολογήσει σε περίπτωση που το θέλει.
Σαν μελλοντική επέκταση θα είχε ενδιαφέρον η ανάδραση (feedback) ενός χρήστη
του Φίλτρου Ανεπιθύμητης Αλληλογραφίας για τυχόν σφάλματα στην ταξινόμηση 
των εισερχόμενών του. Με αυτόν τον τρόπο θα μπορούσε το Φίλτρο να ξαναεκπαιδευτεί με τα
νέα δεδομένα που θα παρείχε ο χρήστης. Κάτι τέτοιο θα είχε σαν αποτέλεσμα ένα Φίλτρο 
που θα ικανοποιούσε τις ανάγκες κάθε χρήστη ξεχωριστά, και θα είχε για τον καθένα
καλύτερη απόδοση.
Ακόμα, όπως αναφέρεται και στο [19] θα είχε ενδιαφέρον ο συνδυασμός δύο ταξινομητών 
για την τελική κατηγοριοποίηση ενός μηνύματος. Συγκεκριμένα, με την προϋπόθεση 
ότι έχουμε δύο ταξινομητές με πολύ χαμηλό ποσοστό False Positive εκπαιδευμένους 
στα ίδια δεδομένα, θα κατηγοριοποιούμε ένα μήνυμα ως ανεπιθύμητο όταν
τουλάχιστον ένας από τους δύο το κατηγοριοποιήσει σαν τέτοιο. Μόνο στην περίπτωση
που και οι δύο το κατηγοριοποιήσουν ως θεμιτό, διαλέγουμε αυτό το αποτέλεσμα.
Εκ πρώτης όψης φαίνεται πως κάτι τέτοιο θα αυξήσει το ποσοστό των False Positive
του τελικού κατηγοριοποιητή, παρόλα αυτά, έχουμε θεωρήσει ότι και οι δύο ταξινομητές
έχουν πολύ χαμηλό ποσοστό False Positive. Έτσι, στην περίπτωση που κατατάξουν ένα
μήνυμα σε διαφορετικές κλάσεις, δηλαδή ο ένας έχει κατηγοριοποιήσει το μήνυμα ως θεμιτό 
και ο άλλος ως αθέμιτο, είναι πιο πιθανό να έχει κάνει λάθος ο πρώτος. Έτσι και ο
τελικός ταξινομητής (ένωση των δύο) θα έχει και αυτός χαμηλό ποσοστό False Positive.
Ακόμα είναι δυνατόν να συνδυαστούν και τρεις ταξινομητές, με τον τρίτο να αποφασίζει το
δίλημμα στην περίπτωση που οι άλλοι δύο ταξινομούν σε διαφορετικές κλάσεις.
Τέλος, αξίζει να σημειωθεί πως αν και ευρέως χρησιμοποιούμενη, η BoW (Bag of
Words) αναπαράσταση των μηνυμάτων, δεν ευνοεί την ανανέωση του μοντέλου. Αν καινούριοι όροι 
πρέπει να ληφθούν υπ όψιν ή κάποιοι που λαμβάνονται ήδη σταμάτησαν να
δίνουν χρήσιμη πληροφορία για τα μηνύματα, τότε πρέπει ο ταξινομητής να εκπαιδευτεί
από την αρχή, κάτι που δεν είναι ιδιαίτερα αποδοτικό. Θα είχε ενδιαφέρον μία μέθοδος
αναπαράστασης που να επιτρέπει την προσθήκη η αφαίρεση χαρακτηριστικών.
